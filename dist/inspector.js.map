{"version":3,"file":"inspector.js","sources":["../src/trix/core/helpers/arrays.js","../src/trix/config/block_attributes.js","../src/trix/constants.js","../src/trix/core/helpers/extend.js","../src/trix/config/attachments.js","../src/trix/core/helpers/dom.js","../src/trix/core/helpers/bidi.js","../src/trix/config/browser.js","../src/trix/config/css.js","../src/trix/config/lang.js","../src/trix/config/file_size_formatting.js","../src/trix/config/input.js","../src/trix/config/key_names.js","../src/trix/config/text_attributes.js","../src/trix/config/toolbar.js","../src/trix/config/undo.js","../src/trix/core/helpers/config.js","../src/trix/core/helpers/custom_elements.js","../src/trix/core/helpers/events.js","../src/trix/core/helpers/functions.js","../src/trix/core/helpers/objects.js","../src/trix/core/helpers/ranges.js","../src/trix/core/basic_object.js","../src/trix/observers/selection_change_observer.js","../src/trix/core/utilities/utf16_string.js","../src/trix/core/helpers/strings.js","../src/inspector/element.js","../src/inspector/global.js","../src/inspector/templates/debug.js","../src/inspector/templates/document.js","../src/inspector/templates/performance.js","../src/inspector/templates/render.js","../src/inspector/templates/selection.js","../src/inspector/templates/undo.js","../src/inspector/control_element.js","../src/inspector/view.js","../src/inspector/views/debug_view.js","../src/inspector/views/document_view.js","../src/inspector/views/performance_view.js","../src/inspector/views/render_view.js","../src/inspector/views/selection_view.js","../src/inspector/views/undo_view.js"],"sourcesContent":["/* eslint-disable\n    id-length,\n*/\nexport const arraysAreEqual = function(a = [], b = []) {\n  if (a.length !== b.length) {\n    return false\n  }\n  for (let index = 0; index < a.length; index++) {\n    const value = a[index]\n    if (value !== b[index]) {\n      return false\n    }\n  }\n  return true\n}\n\nexport const arrayStartsWith = (a = [], b = []) => arraysAreEqual(a.slice(0, b.length), b)\n\nexport const spliceArray = function(array, ...args) {\n  const result = array.slice(0)\n  result.splice(...args)\n  return result\n}\n\nexport const summarizeArrayChange = function(oldArray = [], newArray = []) {\n  const added = []\n  const removed = []\n\n  const existingValues = new Set()\n\n  oldArray.forEach((value) => {\n    existingValues.add(value)\n  })\n\n  const currentValues = new Set()\n\n  newArray.forEach((value) => {\n    currentValues.add(value)\n    if (!existingValues.has(value)) {\n      added.push(value)\n    }\n  })\n\n  oldArray.forEach((value) => {\n    if (!currentValues.has(value)) {\n      removed.push(value)\n    }\n  })\n\n  return { added, removed }\n}\n","const attributes = {\n  default: {\n    tagName: \"div\",\n    parse: false,\n  },\n  quote: {\n    tagName: \"blockquote\",\n    nestable: true,\n  },\n  heading1: {\n    tagName: \"h1\",\n    terminal: true,\n    breakOnReturn: true,\n    group: false,\n  },\n  code: {\n    tagName: \"pre\",\n    terminal: true,\n    text: {\n      plaintext: true,\n    },\n  },\n  bulletList: {\n    tagName: \"ul\",\n    parse: false,\n  },\n  bullet: {\n    tagName: \"li\",\n    listAttribute: \"bulletList\",\n    group: false,\n    nestable: true,\n    test(element) {\n      return tagName(element.parentNode) === attributes[this.listAttribute].tagName\n    },\n  },\n  numberList: {\n    tagName: \"ol\",\n    parse: false,\n  },\n  number: {\n    tagName: \"li\",\n    listAttribute: \"numberList\",\n    group: false,\n    nestable: true,\n    test(element) {\n      return tagName(element.parentNode) === attributes[this.listAttribute].tagName\n    },\n  },\n  attachmentGallery: {\n    tagName: \"div\",\n    exclusive: true,\n    terminal: true,\n    parse: false,\n    group: false,\n  },\n}\n\nconst tagName = (element) => element?.tagName?.toLowerCase()\n\nexport default attributes\n","export const ZERO_WIDTH_SPACE = \"\\uFEFF\"\nexport const NON_BREAKING_SPACE = \"\\u00A0\"\nexport const OBJECT_REPLACEMENT_CHARACTER = \"\\uFFFC\"\n","export const extend = function(properties) {\n  for (const key in properties) {\n    const value = properties[key]\n    this[key] = value\n  }\n  return this\n}\n","export const attachmentSelector = \"[data-trix-attachment]\"\n\nconst attachments = {\n  preview: {\n    presentation: \"gallery\",\n    caption: {\n      name: true,\n      size: true,\n    },\n  },\n  file: {\n    caption: {\n      size: true,\n    },\n  },\n}\nexport default attachments\n","import blockAttributes from \"trix/config/block_attributes\"\nimport { ZERO_WIDTH_SPACE } from \"trix/constants\"\nimport { extend } from \"./extend\"\nimport { attachmentSelector } from \"trix/config/attachments\"\n\nconst html = document.documentElement\nconst match = html.matches\n\nexport const handleEvent = function(eventName, { onElement, matchingSelector, withCallback, inPhase, preventDefault, times } = {}) {\n  const element = onElement ? onElement : html\n  const selector = matchingSelector\n  const useCapture = inPhase === \"capturing\"\n\n  const handler = function(event) {\n    if (times != null && --times === 0) {\n      handler.destroy()\n    }\n    const target = findClosestElementFromNode(event.target, { matchingSelector: selector })\n    if (target != null) {\n      withCallback?.call(target, event, target)\n      if (preventDefault) {\n        event.preventDefault()\n      }\n    }\n  }\n\n  handler.destroy = () => element.removeEventListener(eventName, handler, useCapture)\n\n  element.addEventListener(eventName, handler, useCapture)\n  return handler\n}\n\nexport const handleEventOnce = function(eventName, options = {}) {\n  options.times = 1\n  return handleEvent(eventName, options)\n}\n\nexport const triggerEvent = function(eventName, { onElement, bubbles, cancelable, attributes } = {}) {\n  const element = onElement != null ? onElement : html\n  bubbles = bubbles !== false\n  cancelable = cancelable !== false\n\n  const event = document.createEvent(\"Events\")\n  event.initEvent(eventName, bubbles, cancelable)\n  if (attributes != null) {\n    extend.call(event, attributes)\n  }\n  return element.dispatchEvent(event)\n}\n\nexport const elementMatchesSelector = function(element, selector) {\n  if (element?.nodeType === 1) {\n    return match.call(element, selector)\n  }\n}\n\nexport const findClosestElementFromNode = function(node, { matchingSelector, untilNode } = {}) {\n  while (node && node.nodeType !== Node.ELEMENT_NODE) {\n    node = node.parentNode\n  }\n  if (node == null) {\n    return\n  }\n\n  if (matchingSelector != null) {\n    if (node.closest && untilNode == null) {\n      return node.closest(matchingSelector)\n    } else {\n      while (node && node !== untilNode) {\n        if (elementMatchesSelector(node, matchingSelector)) {\n          return node\n        }\n        node = node.parentNode\n      }\n    }\n  } else {\n    return node\n  }\n}\n\nexport const findInnerElement = function(element) {\n  while (element?.firstElementChild) {\n    element = element.firstElementChild\n  }\n  return element\n}\n\nexport const innerElementIsActive = (element) =>\n  document.activeElement !== element && elementContainsNode(element, document.activeElement)\n\nexport const elementContainsNode = function(element, node) {\n  if (!element || !node) {\n    return\n  }\n  while (node) {\n    if (node === element) {\n      return true\n    }\n    node = node.parentNode\n  }\n}\n\nexport const findNodeFromContainerAndOffset = function(container, offset) {\n  if (!container) {\n    return\n  }\n  if (container.nodeType === Node.TEXT_NODE) {\n    return container\n  } else if (offset === 0) {\n    return container.firstChild != null ? container.firstChild : container\n  } else {\n    return container.childNodes.item(offset - 1)\n  }\n}\n\nexport const findElementFromContainerAndOffset = function(container, offset) {\n  const node = findNodeFromContainerAndOffset(container, offset)\n  return findClosestElementFromNode(node)\n}\n\nexport const findChildIndexOfNode = function(node) {\n  if (!node?.parentNode) {\n    return\n  }\n  let childIndex = 0\n  node = node.previousSibling\n  while (node) {\n    childIndex++\n    node = node.previousSibling\n  }\n  return childIndex\n}\n\nexport const removeNode = (node) => node?.parentNode?.removeChild(node)\n\nexport const walkTree = function(tree, { onlyNodesOfType, usingFilter, expandEntityReferences } = {}) {\n  const whatToShow = (() => {\n    switch (onlyNodesOfType) {\n      case \"element\":\n        return NodeFilter.SHOW_ELEMENT\n      case \"text\":\n        return NodeFilter.SHOW_TEXT\n      case \"comment\":\n        return NodeFilter.SHOW_COMMENT\n      default:\n        return NodeFilter.SHOW_ALL\n    }\n  })()\n\n  return document.createTreeWalker(\n    tree,\n    whatToShow,\n    usingFilter != null ? usingFilter : null,\n    expandEntityReferences === true\n  )\n}\n\nexport const tagName = (element) => element?.tagName?.toLowerCase()\n\nexport const makeElement = function(tag, options = {}) {\n  let key, value\n  if (typeof tag === \"object\") {\n    options = tag\n    tag = options.tagName\n  } else {\n    options = { attributes: options }\n  }\n\n  const element = document.createElement(tag)\n\n  if (options.editable != null) {\n    if (options.attributes == null) {\n      options.attributes = {}\n    }\n    options.attributes.contenteditable = options.editable\n  }\n\n  if (options.attributes) {\n    for (key in options.attributes) {\n      value = options.attributes[key]\n      element.setAttribute(key, value)\n    }\n  }\n\n  if (options.style) {\n    for (key in options.style) {\n      value = options.style[key]\n      element.style[key] = value\n    }\n  }\n\n  if (options.data) {\n    for (key in options.data) {\n      value = options.data[key]\n      element.dataset[key] = value\n    }\n  }\n\n  if (options.className) {\n    options.className.split(\" \").forEach((className) => {\n      element.classList.add(className)\n    })\n  }\n\n  if (options.textContent) {\n    element.textContent = options.textContent\n  }\n\n  if (options.childNodes) {\n    [].concat(options.childNodes).forEach((childNode) => {\n      element.appendChild(childNode)\n    })\n  }\n\n  return element\n}\n\nlet blockTagNames = undefined\n\nexport const getBlockTagNames = function() {\n  if (blockTagNames != null) {\n    return blockTagNames\n  }\n\n  blockTagNames = []\n  for (const key in blockAttributes) {\n    const attributes = blockAttributes[key]\n    if (attributes.tagName) {\n      blockTagNames.push(attributes.tagName)\n    }\n  }\n\n  return blockTagNames\n}\n\nexport const nodeIsBlockContainer = (node) => nodeIsBlockStartComment(node?.firstChild)\n\nexport const nodeProbablyIsBlockContainer = function(node) {\n  return getBlockTagNames().includes(tagName(node)) && !getBlockTagNames().includes(tagName(node.firstChild))\n}\n\nexport const nodeIsBlockStart = function(node, { strict } = { strict: true }) {\n  if (strict) {\n    return nodeIsBlockStartComment(node)\n  } else {\n    return (\n      nodeIsBlockStartComment(node) || !nodeIsBlockStartComment(node.firstChild) && nodeProbablyIsBlockContainer(node)\n    )\n  }\n}\n\nexport const nodeIsBlockStartComment = (node) => nodeIsCommentNode(node) && node?.data === \"block\"\n\nexport const nodeIsCommentNode = (node) => node?.nodeType === Node.COMMENT_NODE\n\nexport const nodeIsCursorTarget = function(node, { name } = {}) {\n  if (!node) {\n    return\n  }\n  if (nodeIsTextNode(node)) {\n    if (node.data === ZERO_WIDTH_SPACE) {\n      if (name) {\n        return node.parentNode.dataset.trixCursorTarget === name\n      } else {\n        return true\n      }\n    }\n  } else {\n    return nodeIsCursorTarget(node.firstChild)\n  }\n}\n\nexport const nodeIsAttachmentElement = (node) => elementMatchesSelector(node, attachmentSelector)\n\nexport const nodeIsEmptyTextNode = (node) => nodeIsTextNode(node) && node?.data === \"\"\n\nexport const nodeIsTextNode = (node) => node?.nodeType === Node.TEXT_NODE\n","import { makeElement } from \"trix/core/helpers/dom\"\n\n// https://github.com/mathiasbynens/unicode-2.1.8/blob/master/Bidi_Class/Right_To_Left/regex.js\nconst RTL_PATTERN =\n  /[\\u05BE\\u05C0\\u05C3\\u05D0-\\u05EA\\u05F0-\\u05F4\\u061B\\u061F\\u0621-\\u063A\\u0640-\\u064A\\u066D\\u0671-\\u06B7\\u06BA-\\u06BE\\u06C0-\\u06CE\\u06D0-\\u06D5\\u06E5\\u06E6\\u200F\\u202B\\u202E\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE72\\uFE74\\uFE76-\\uFEFC]/\n\nexport const getDirection = (function() {\n  const input = makeElement(\"input\", { dir: \"auto\", name: \"x\", dirName: \"x.dir\" })\n  const form = makeElement(\"form\")\n  form.appendChild(input)\n\n  const supportsDirName = (function() {\n    try {\n      return new FormData(form).has(input.dirName)\n    } catch (error) {\n      return false\n    }\n  })()\n\n  const supportsDirSelector = (function() {\n    try {\n      return input.matches(\":dir(ltr),:dir(rtl)\")\n    } catch (error) {\n      return false\n    }\n  })()\n\n  if (supportsDirName) {\n    return function(string) {\n      input.value = string\n      return new FormData(form).get(input.dirName)\n    }\n  } else if (supportsDirSelector) {\n    return function(string) {\n      input.value = string\n      if (input.matches(\":dir(rtl)\")) {\n        return \"rtl\"\n      } else {\n        return \"ltr\"\n      }\n    }\n  } else {\n    return function(string) {\n      const char = string.trim().charAt(0)\n      if (RTL_PATTERN.test(char)) {\n        return \"rtl\"\n      } else {\n        return \"ltr\"\n      }\n    }\n  }\n})()\n","export default {\n  // Android emits composition events when moving the cursor through existing text\n  // Introduced in Chrome 65: https://bugs.chromium.org/p/chromium/issues/detail?id=764439#c9\n  composesExistingText: /Android.*Chrome/.test(navigator.userAgent),\n  // IE 11 activates resizing handles on editable elements that have \"layout\"\n  forcesObjectResizing: /Trident.*rv:11/.test(navigator.userAgent),\n  // https://www.w3.org/TR/input-events-1/ + https://www.w3.org/TR/input-events-2/\n  supportsInputEvents: (function() {\n    if (typeof InputEvent === \"undefined\") {\n      return false\n    }\n    for (const property of [ \"data\", \"getTargetRanges\", \"inputType\" ]) {\n      if (!(property in InputEvent.prototype)) {\n        return false\n      }\n    }\n    return true\n  })(),\n}\n","export default {\n  attachment: \"attachment\",\n  attachmentCaption: \"attachment__caption\",\n  attachmentCaptionEditor: \"attachment__caption-editor\",\n  attachmentMetadata: \"attachment__metadata\",\n  attachmentMetadataContainer: \"attachment__metadata-container\",\n  attachmentName: \"attachment__name\",\n  attachmentProgress: \"attachment__progress\",\n  attachmentSize: \"attachment__size\",\n  attachmentToolbar: \"attachment__toolbar\",\n  attachmentGallery: \"attachment-gallery\",\n}\n","export default {\n  attachFiles: \"Attach Files\",\n  bold: \"Bold\",\n  bullets: \"Bullets\",\n  byte: \"Byte\",\n  bytes: \"Bytes\",\n  captionPlaceholder: \"Add a caption…\",\n  code: \"Code\",\n  heading1: \"Heading\",\n  indent: \"Increase Level\",\n  italic: \"Italic\",\n  link: \"Link\",\n  numbers: \"Numbers\",\n  outdent: \"Decrease Level\",\n  quote: \"Quote\",\n  redo: \"Redo\",\n  remove: \"Remove\",\n  strike: \"Strikethrough\",\n  undo: \"Undo\",\n  unlink: \"Unlink\",\n  url: \"URL\",\n  urlPlaceholder: \"Enter a URL…\",\n  GB: \"GB\",\n  KB: \"KB\",\n  MB: \"MB\",\n  PB: \"PB\",\n  TB: \"TB\",\n}\n","/* eslint-disable\n    no-case-declarations,\n*/\nimport lang from \"trix/config/lang\"\n\nconst sizes = [ lang.bytes, lang.KB, lang.MB, lang.GB, lang.TB, lang.PB ]\n\nexport default {\n  prefix: \"IEC\",\n  precision: 2,\n\n  formatter(number) {\n    switch (number) {\n      case 0:\n        return `0 ${lang.bytes}`\n      case 1:\n        return `1 ${lang.byte}`\n      default:\n        let base\n\n        if (this.prefix === \"SI\") {\n          base = 1000\n        } else if (this.prefix === \"IEC\") {\n          base = 1024\n        }\n\n        const exp = Math.floor(Math.log(number) / Math.log(base))\n        const humanSize = number / Math.pow(base, exp)\n        const string = humanSize.toFixed(this.precision)\n        const withoutInsignificantZeros = string.replace(/0*$/, \"\").replace(/\\.$/, \"\")\n        return `${withoutInsignificantZeros} ${sizes[exp]}`\n    }\n  },\n}\n","import browser from \"trix/config/browser\"\nimport { makeElement, removeNode } from \"trix/core/helpers/dom\"\n\nconst input = {\n  level2Enabled: true,\n\n  getLevel() {\n    if (this.level2Enabled && browser.supportsInputEvents) {\n      return 2\n    } else {\n      return 0\n    }\n  },\n  pickFiles(callback) {\n    const input = makeElement(\"input\", { type: \"file\", multiple: true, hidden: true, id: this.fileInputId })\n\n    input.addEventListener(\"change\", () => {\n      callback(input.files)\n      removeNode(input)\n    })\n\n    removeNode(document.getElementById(this.fileInputId))\n    document.body.appendChild(input)\n    input.click()\n  }\n}\n\nexport default input\n","export default {\n  8: \"backspace\",\n  9: \"tab\",\n  13: \"return\",\n  27: \"escape\",\n  37: \"left\",\n  39: \"right\",\n  46: \"delete\",\n  68: \"d\",\n  72: \"h\",\n  79: \"o\",\n}\n","import { attachmentSelector } from \"trix/config/attachments\"\n\nexport default {\n  bold: {\n    tagName: \"strong\",\n    inheritable: true,\n    parser(element) {\n      const style = window.getComputedStyle(element)\n      return style.fontWeight === \"bold\" || style.fontWeight >= 600\n    },\n  },\n  italic: {\n    tagName: \"em\",\n    inheritable: true,\n    parser(element) {\n      const style = window.getComputedStyle(element)\n      return style.fontStyle === \"italic\"\n    },\n  },\n  href: {\n    groupTagName: \"a\",\n    parser(element) {\n      const matchingSelector = `a:not(${attachmentSelector})`\n      const link = element.closest(matchingSelector)\n      if (link) {\n        return link.getAttribute(\"href\")\n      }\n    },\n  },\n  strike: {\n    tagName: \"del\",\n    inheritable: true,\n  },\n  frozen: {\n    style: { backgroundColor: \"highlight\" },\n  },\n}\n","import lang from \"trix/config/lang\"\n\nexport default {\n  getDefaultHTML() {\n    return `<div class=\"trix-button-row\">\n      <span class=\"trix-button-group trix-button-group--text-tools\" data-trix-button-group=\"text-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-bold\" data-trix-attribute=\"bold\" data-trix-key=\"b\" title=\"${lang.bold}\" tabindex=\"-1\">${lang.bold}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-italic\" data-trix-attribute=\"italic\" data-trix-key=\"i\" title=\"${lang.italic}\" tabindex=\"-1\">${lang.italic}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-strike\" data-trix-attribute=\"strike\" title=\"${lang.strike}\" tabindex=\"-1\">${lang.strike}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-link\" data-trix-attribute=\"href\" data-trix-action=\"link\" data-trix-key=\"k\" title=\"${lang.link}\" tabindex=\"-1\">${lang.link}</button>\n      </span>\n\n      <span class=\"trix-button-group trix-button-group--block-tools\" data-trix-button-group=\"block-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-heading-1\" data-trix-attribute=\"heading1\" title=\"${lang.heading1}\" tabindex=\"-1\">${lang.heading1}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-quote\" data-trix-attribute=\"quote\" title=\"${lang.quote}\" tabindex=\"-1\">${lang.quote}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-code\" data-trix-attribute=\"code\" title=\"${lang.code}\" tabindex=\"-1\">${lang.code}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-bullet-list\" data-trix-attribute=\"bullet\" title=\"${lang.bullets}\" tabindex=\"-1\">${lang.bullets}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-number-list\" data-trix-attribute=\"number\" title=\"${lang.numbers}\" tabindex=\"-1\">${lang.numbers}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-decrease-nesting-level\" data-trix-action=\"decreaseNestingLevel\" title=\"${lang.outdent}\" tabindex=\"-1\">${lang.outdent}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-increase-nesting-level\" data-trix-action=\"increaseNestingLevel\" title=\"${lang.indent}\" tabindex=\"-1\">${lang.indent}</button>\n      </span>\n\n      <span class=\"trix-button-group trix-button-group--file-tools\" data-trix-button-group=\"file-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-attach\" data-trix-action=\"attachFiles\" title=\"${lang.attachFiles}\" tabindex=\"-1\">${lang.attachFiles}</button>\n      </span>\n\n      <span class=\"trix-button-group-spacer\"></span>\n\n      <span class=\"trix-button-group trix-button-group--history-tools\" data-trix-button-group=\"history-tools\">\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-undo\" data-trix-action=\"undo\" data-trix-key=\"z\" title=\"${lang.undo}\" tabindex=\"-1\">${lang.undo}</button>\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-redo\" data-trix-action=\"redo\" data-trix-key=\"shift+z\" title=\"${lang.redo}\" tabindex=\"-1\">${lang.redo}</button>\n      </span>\n    </div>\n\n    <div class=\"trix-dialogs\" data-trix-dialogs>\n      <div class=\"trix-dialog trix-dialog--link\" data-trix-dialog=\"href\" data-trix-dialog-attribute=\"href\">\n        <div class=\"trix-dialog__link-fields\">\n          <input type=\"url\" name=\"href\" class=\"trix-input trix-input--dialog\" placeholder=\"${lang.urlPlaceholder}\" aria-label=\"${lang.url}\" required data-trix-input>\n          <div class=\"trix-button-group\">\n            <input type=\"button\" class=\"trix-button trix-button--dialog\" value=\"${lang.link}\" data-trix-method=\"setAttribute\">\n            <input type=\"button\" class=\"trix-button trix-button--dialog\" value=\"${lang.unlink}\" data-trix-method=\"removeAttribute\">\n          </div>\n        </div>\n      </div>\n    </div>`\n  },\n}\n","const undo = { interval: 5000 }\nexport default undo\n","import * as config from \"trix/config\"\n\nlet allAttributeNames = null\nlet blockAttributeNames = null\nlet textAttributeNames = null\nlet listAttributeNames = null\n\nexport const getAllAttributeNames = () => {\n  if (!allAttributeNames) {\n    allAttributeNames = getTextAttributeNames().concat(getBlockAttributeNames())\n  }\n  return allAttributeNames\n}\n\nexport const getBlockConfig = (attributeName) => config.blockAttributes[attributeName]\n\nexport const getBlockAttributeNames = () => {\n  if (!blockAttributeNames) {\n    blockAttributeNames = Object.keys(config.blockAttributes)\n  }\n  return blockAttributeNames\n}\n\nexport const getTextConfig = (attributeName) => config.textAttributes[attributeName]\n\nexport const getTextAttributeNames = () => {\n  if (!textAttributeNames) {\n    textAttributeNames = Object.keys(config.textAttributes)\n  }\n  return textAttributeNames\n}\n\nexport const getListAttributeNames = () => {\n  if (!listAttributeNames) {\n    listAttributeNames = []\n    for (const key in config.blockAttributes) {\n      const { listAttribute } = config.blockAttributes[key]\n      if (listAttribute != null) {\n        listAttributeNames.push(listAttribute)\n      }\n    }\n  }\n  return listAttributeNames\n}\n","/* eslint-disable\n*/\nexport const installDefaultCSSForTagName = function(tagName, defaultCSS) {\n  const styleElement = insertStyleElementForTagName(tagName)\n  styleElement.textContent = defaultCSS.replace(/%t/g, tagName)\n}\n\nconst insertStyleElementForTagName = function(tagName) {\n  const element = document.createElement(\"style\")\n  element.setAttribute(\"type\", \"text/css\")\n  element.setAttribute(\"data-tag-name\", tagName.toLowerCase())\n  const nonce = getCSPNonce()\n  if (nonce) {\n    element.setAttribute(\"nonce\", nonce)\n  }\n  document.head.insertBefore(element, document.head.firstChild)\n  return element\n}\n\nconst getCSPNonce = function() {\n  const element = getMetaElement(\"trix-csp-nonce\") || getMetaElement(\"csp-nonce\")\n  if (element) {\n    return element.getAttribute(\"content\")\n  }\n}\n\nconst getMetaElement = (name) => document.head.querySelector(`meta[name=${name}]`)\n","const testTransferData = { \"application/x-trix-feature-detection\": \"test\" }\n\nexport const dataTransferIsPlainText = function(dataTransfer) {\n  const text = dataTransfer.getData(\"text/plain\")\n  const html = dataTransfer.getData(\"text/html\")\n\n  if (text && html) {\n    const { body } = new DOMParser().parseFromString(html, \"text/html\")\n    if (body.textContent === text) {\n      return !body.querySelector(\"*\")\n    }\n  } else {\n    return text?.length\n  }\n}\n\nexport const dataTransferIsWritable = function(dataTransfer) {\n  if (!dataTransfer?.setData) return false\n\n  for (const key in testTransferData) {\n    const value = testTransferData[key]\n\n    try {\n      dataTransfer.setData(key, value)\n      if (!dataTransfer.getData(key) === value) return false\n    } catch (error) {\n      return false\n    }\n  }\n  return true\n}\n\nexport const keyEventIsKeyboardCommand = (function() {\n  if (/Mac|^iP/.test(navigator.platform)) {\n    return (event) => event.metaKey\n  } else {\n    return (event) => event.ctrlKey\n  }\n})()\n","export const defer = (fn) => setTimeout(fn, 1)\n","/* eslint-disable\n    id-length,\n*/\nexport const copyObject = function(object = {}) {\n  const result = {}\n  for (const key in object) {\n    const value = object[key]\n    result[key] = value\n  }\n  return result\n}\n\nexport const objectsAreEqual = function(a = {}, b = {}) {\n  if (Object.keys(a).length !== Object.keys(b).length) {\n    return false\n  }\n  for (const key in a) {\n    const value = a[key]\n    if (value !== b[key]) {\n      return false\n    }\n  }\n  return true\n}\n","import { copyObject, objectsAreEqual } from \"trix/core/helpers/objects\"\n\nexport const normalizeRange = function(range) {\n  if (range == null) return\n\n  if (!Array.isArray(range)) {\n    range = [ range, range ]\n  }\n  return [ copyValue(range[0]), copyValue(range[1] != null ? range[1] : range[0]) ]\n}\n\nexport const rangeIsCollapsed = function(range) {\n  if (range == null) return\n\n  const [ start, end ] = normalizeRange(range)\n  return rangeValuesAreEqual(start, end)\n}\n\nexport const rangesAreEqual = function(leftRange, rightRange) {\n  if (leftRange == null || rightRange == null) return\n\n  const [ leftStart, leftEnd ] = normalizeRange(leftRange)\n  const [ rightStart, rightEnd ] = normalizeRange(rightRange)\n  return rangeValuesAreEqual(leftStart, rightStart) && rangeValuesAreEqual(leftEnd, rightEnd)\n}\n\nconst copyValue = function(value) {\n  if (typeof value === \"number\") {\n    return value\n  } else {\n    return copyObject(value)\n  }\n}\n\nconst rangeValuesAreEqual = function(left, right) {\n  if (typeof left === \"number\") {\n    return left === right\n  } else {\n    return objectsAreEqual(left, right)\n  }\n}\n","export default class BasicObject {\n  static proxyMethod(expression) {\n    const { name, toMethod, toProperty, optional } = parseProxyMethodExpression(expression)\n\n    this.prototype[name] = function() {\n      let subject\n      let object\n\n      if (toMethod) {\n        if (optional) {\n          object = this[toMethod]?.()\n        } else {\n          object = this[toMethod]()\n        }\n      } else if (toProperty) {\n        object = this[toProperty]\n      }\n\n      if (optional) {\n        subject = object?.[name]\n        if (subject) {\n          return apply.call(subject, object, arguments)\n        }\n      } else {\n        subject = object[name]\n        return apply.call(subject, object, arguments)\n      }\n    }\n  }\n}\n\nconst parseProxyMethodExpression = function(expression) {\n  const match = expression.match(proxyMethodExpressionPattern)\n  if (!match) {\n    throw new Error(`can't parse @proxyMethod expression: ${expression}`)\n  }\n\n  const args = { name: match[4] }\n\n  if (match[2] != null) {\n    args.toMethod = match[1]\n  } else {\n    args.toProperty = match[1]\n  }\n\n  if (match[3] != null) {\n    args.optional = true\n  }\n\n  return args\n}\n\nconst { apply } = Function.prototype\n\nconst proxyMethodExpressionPattern = new RegExp(\"\\\n^\\\n(.+?)\\\n(\\\\(\\\\))?\\\n(\\\\?)?\\\n\\\\.\\\n(.+?)\\\n$\\\n\")\n","/* eslint-disable\n    id-length,\n*/\nimport BasicObject from \"trix/core/basic_object\"\n\nexport default class SelectionChangeObserver extends BasicObject {\n  constructor() {\n    super(...arguments)\n    this.update = this.update.bind(this)\n    this.run = this.run.bind(this)\n    this.selectionManagers = []\n  }\n\n  start() {\n    if (!this.started) {\n      this.started = true\n      if (\"onselectionchange\" in document) {\n        return document.addEventListener(\"selectionchange\", this.update, true)\n      } else {\n        return this.run()\n      }\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      this.started = false\n      return document.removeEventListener(\"selectionchange\", this.update, true)\n    }\n  }\n\n  registerSelectionManager(selectionManager) {\n    if (!this.selectionManagers.includes(selectionManager)) {\n      this.selectionManagers.push(selectionManager)\n      return this.start()\n    }\n  }\n\n  unregisterSelectionManager(selectionManager) {\n    this.selectionManagers = this.selectionManagers.filter((s) => s !== selectionManager)\n    if (this.selectionManagers.length === 0) {\n      return this.stop()\n    }\n  }\n\n  notifySelectionManagersOfSelectionChange() {\n    return this.selectionManagers.map((selectionManager) => selectionManager.selectionDidChange())\n  }\n\n  update() {\n    const domRange = getDOMRange()\n    if (!domRangesAreEqual(domRange, this.domRange)) {\n      this.domRange = domRange\n      return this.notifySelectionManagersOfSelectionChange()\n    }\n  }\n\n  reset() {\n    this.domRange = null\n    return this.update()\n  }\n\n  // Private\n\n  run() {\n    if (this.started) {\n      this.update()\n      return requestAnimationFrame(this.run)\n    }\n  }\n}\n\nconst domRangesAreEqual = (left, right) =>\n  left?.startContainer === right?.startContainer &&\n  left?.startOffset === right?.startOffset &&\n  left?.endContainer === right?.endContainer &&\n  left?.endOffset === right?.endOffset\n\nexport const selectionChangeObserver = new SelectionChangeObserver()\n\nexport const getDOMSelection = function() {\n  const selection = window.getSelection()\n  if (selection.rangeCount > 0) {\n    return selection\n  }\n}\n\nexport const getDOMRange = function() {\n  const domRange = getDOMSelection()?.getRangeAt(0)\n  if (domRange) {\n    if (!domRangeIsPrivate(domRange)) {\n      return domRange\n    }\n  }\n}\n\nexport const setDOMRange = function(domRange) {\n  const selection = window.getSelection()\n  selection.removeAllRanges()\n  selection.addRange(domRange)\n  return selectionChangeObserver.update()\n}\n\n// In Firefox, clicking certain <input> elements changes the selection to a\n// private element used to draw its UI. Attempting to access properties of those\n// elements throws an error.\n// https://bugzilla.mozilla.org/show_bug.cgi?id=208427\nconst domRangeIsPrivate = (domRange) => nodeIsPrivate(domRange.startContainer) || nodeIsPrivate(domRange.endContainer)\n\nconst nodeIsPrivate = (node) => !Object.getPrototypeOf(node)\n","import BasicObject from \"trix/core/basic_object\"\n\nexport default class UTF16String extends BasicObject {\n  static box(value = \"\") {\n    if (value instanceof this) {\n      return value\n    } else {\n      return this.fromUCS2String(value?.toString())\n    }\n  }\n\n  static fromUCS2String(ucs2String) {\n    return new this(ucs2String, ucs2decode(ucs2String))\n  }\n\n  static fromCodepoints(codepoints) {\n    return new this(ucs2encode(codepoints), codepoints)\n  }\n\n  constructor(ucs2String, codepoints) {\n    super(...arguments)\n    this.ucs2String = ucs2String\n    this.codepoints = codepoints\n    this.length = this.codepoints.length\n    this.ucs2Length = this.ucs2String.length\n  }\n\n  offsetToUCS2Offset(offset) {\n    return ucs2encode(this.codepoints.slice(0, Math.max(0, offset))).length\n  }\n\n  offsetFromUCS2Offset(ucs2Offset) {\n    return ucs2decode(this.ucs2String.slice(0, Math.max(0, ucs2Offset))).length\n  }\n\n  slice() {\n    return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))\n  }\n\n  charAt(offset) {\n    return this.slice(offset, offset + 1)\n  }\n\n  isEqualTo(value) {\n    return this.constructor.box(value).ucs2String === this.ucs2String\n  }\n\n  toJSON() {\n    return this.ucs2String\n  }\n\n  getCacheKey() {\n    return this.ucs2String\n  }\n\n  toString() {\n    return this.ucs2String\n  }\n}\n\nconst hasArrayFrom = Array.from?.(\"\\ud83d\\udc7c\").length === 1\nconst hasStringCodePointAt = \" \".codePointAt?.(0) != null\nconst hasStringFromCodePoint = String.fromCodePoint?.(32, 128124) === \" \\ud83d\\udc7c\"\n\n// UCS-2 conversion helpers ported from Mathias Bynens' Punycode.js:\n// https://github.com/bestiejs/punycode.js#punycodeucs2\n\nlet ucs2decode, ucs2encode\n\n// Creates an array containing the numeric code points of each Unicode\n// character in the string. While JavaScript uses UCS-2 internally,\n// this function will convert a pair of surrogate halves (each of which\n// UCS-2 exposes as separate characters) into a single code point,\n// matching UTF-16.\nif (hasArrayFrom && hasStringCodePointAt) {\n  ucs2decode = (string) => Array.from(string).map((char) => char.codePointAt(0))\n} else {\n  ucs2decode = function(string) {\n    const output = []\n    let counter = 0\n    const { length } = string\n\n    while (counter < length) {\n      let value = string.charCodeAt(counter++)\n      if (0xd800 <= value && value <= 0xdbff && counter < length) {\n        // high surrogate, and there is a next character\n        const extra = string.charCodeAt(counter++)\n        if ((extra & 0xfc00) === 0xdc00) {\n          // low surrogate\n          value = ((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000\n        } else {\n          // unmatched surrogate; only append this code unit, in case the\n          // next code unit is the high surrogate of a surrogate pair\n          counter--\n        }\n      }\n      output.push(value)\n    }\n\n    return output\n  }\n}\n\n// Creates a string based on an array of numeric code points.\nif (hasStringFromCodePoint) {\n  ucs2encode = (array) => String.fromCodePoint(...Array.from(array || []))\n} else {\n  ucs2encode = function(array) {\n    const characters = (() => {\n      const result = []\n\n      Array.from(array).forEach((value) => {\n        let output = \"\"\n        if (value > 0xffff) {\n          value -= 0x10000\n          output += String.fromCharCode(value >>> 10 & 0x3ff | 0xd800)\n          value = 0xdc00 | value & 0x3ff\n        }\n        result.push(output + String.fromCharCode(value))\n      })\n\n      return result\n    })()\n\n    return characters.join(\"\")\n  }\n}\n","/* eslint-disable\n    id-length,\n    no-useless-escape,\n*/\nimport { NON_BREAKING_SPACE, ZERO_WIDTH_SPACE } from \"trix/constants\"\nimport UTF16String from \"trix/core/utilities/utf16_string\"\n\nexport const normalizeSpaces = (string) =>\n  string.replace(new RegExp(`${ZERO_WIDTH_SPACE}`, \"g\"), \"\").replace(new RegExp(`${NON_BREAKING_SPACE}`, \"g\"), \" \")\n\nexport const normalizeNewlines = (string) => string.replace(/\\r\\n/g, \"\\n\")\n\nexport const breakableWhitespacePattern = new RegExp(`[^\\\\S${NON_BREAKING_SPACE}]`)\n\nexport const squishBreakableWhitespace = (string) =>\n  string\n    // Replace all breakable whitespace characters with a space\n    .replace(new RegExp(`${breakableWhitespacePattern.source}`, \"g\"), \" \")\n    // Replace two or more spaces with a single space\n    .replace(/\\ {2,}/g, \" \")\n\nexport const summarizeStringChange = function(oldString, newString) {\n  let added, removed\n  oldString = UTF16String.box(oldString)\n  newString = UTF16String.box(newString)\n\n  if (newString.length < oldString.length) {\n    [ removed, added ] = utf16StringDifferences(oldString, newString)\n  } else {\n    [ added, removed ] = utf16StringDifferences(newString, oldString)\n  }\n\n  return { added, removed }\n}\n\nconst utf16StringDifferences = function(a, b) {\n  if (a.isEqualTo(b)) {\n    return [ \"\", \"\" ]\n  }\n\n  const diffA = utf16StringDifference(a, b)\n  const { length } = diffA.utf16String\n\n  let diffB\n\n  if (length) {\n    const { offset } = diffA\n    const codepoints = a.codepoints.slice(0, offset).concat(a.codepoints.slice(offset + length))\n    diffB = utf16StringDifference(b, UTF16String.fromCodepoints(codepoints))\n  } else {\n    diffB = utf16StringDifference(b, a)\n  }\n\n  return [ diffA.utf16String.toString(), diffB.utf16String.toString() ]\n}\n\nconst utf16StringDifference = function(a, b) {\n  let leftIndex = 0\n  let rightIndexA = a.length\n  let rightIndexB = b.length\n\n  while (leftIndex < rightIndexA && a.charAt(leftIndex).isEqualTo(b.charAt(leftIndex))) {\n    leftIndex++\n  }\n\n  while (rightIndexA > leftIndex + 1 && a.charAt(rightIndexA - 1).isEqualTo(b.charAt(rightIndexB - 1))) {\n    rightIndexA--\n    rightIndexB--\n  }\n\n  return {\n    utf16String: a.slice(leftIndex, rightIndexA),\n    offset: leftIndex,\n  }\n}\n","/* eslint-disable\n    id-length,\n*/\nimport { installDefaultCSSForTagName } from \"trix/core/helpers\"\n\ninstallDefaultCSSForTagName(\"trix-inspector\", `\\\n%t {\n  display: block;\n}\n\n%t {\n  position: fixed;\n  background: #fff;\n  border: 1px solid #444;\n  border-radius: 5px;\n  padding: 10px;\n  font-family: sans-serif;\n  font-size: 12px;\n  overflow: auto;\n  word-wrap: break-word;\n}\n\n%t details {\n  margin-bottom: 10px;\n}\n\n%t summary:focus {\n  outline: none;\n}\n\n%t details .panel {\n  padding: 10px;\n}\n\n%t .performance .metrics {\n  margin: 0 0 5px 5px;\n}\n\n%t .selection .characters {\n  margin-top: 10px;\n}\n\n%t .selection .character {\n  display: inline-block;\n  font-size: 8px;\n  font-family: courier, monospace;\n  line-height: 10px;\n  vertical-align: middle;\n  text-align: center;\n  width: 10px;\n  height: 10px;\n  margin: 0 1px 1px 0;\n  border: 1px solid #333;\n  border-radius: 1px;\n  background: #676666;\n  color: #fff;\n}\n\n%t .selection .character.selected {\n  background: yellow;\n  color: #000;\n}\\\n`)\n\nexport default class TrixInspector extends HTMLElement {\n  connectedCallback() {\n    this.editorElement = document.querySelector(`trix-editor[trix-id='${this.dataset.trixId}']`)\n    this.views = this.createViews()\n\n    this.views.forEach((view) => {\n      view.render()\n      this.appendChild(view.element)\n    })\n\n    this.reposition()\n\n    this.resizeHandler = this.reposition.bind(this)\n    addEventListener(\"resize\", this.resizeHandler)\n  }\n\n  disconnectedCallback() {\n    removeEventListener(\"resize\", this.resizeHandler)\n  }\n\n  createViews() {\n    const views = Trix.Inspector.views.map((View) => new View(this.editorElement))\n\n    return views.sort((a, b) => a.title.toLowerCase() > b.title.toLowerCase())\n  }\n\n  reposition() {\n    const { top, right } = this.editorElement.getBoundingClientRect()\n\n    this.style.top = `${top}px`\n    this.style.left = `${right + 10}px`\n    this.style.maxWidth = `${window.innerWidth - right - 40}px`\n    this.style.maxHeight = `${window.innerHeight - top - 30}px`\n  }\n}\n\nwindow.customElements.define(\"trix-inspector\", TrixInspector)\n","window.Trix.Inspector = {\n  views: [],\n\n  registerView(constructor) {\n    return this.views.push(constructor)\n  },\n\n  install(editorElement) {\n    this.editorElement = editorElement\n    const element = document.createElement(\"trix-inspector\")\n    element.dataset.trixId = this.editorElement.trixId\n    return document.body.appendChild(element)\n  },\n}\n","if (!window.JST) window.JST = {}\n\nwindow.JST[\"trix/inspector/templates/debug\"] = function() {\n  return `<p>\n  <label>\n    <input type=\"checkbox\" name=\"viewCaching\" checked=\"${this.compositionController.isViewCachingEnabled()}\">\n    Cache views between renders\n  </label>\n</p>\n\n<p>\n  <button data-action=\"render\">Force Render</button> <button data-action=\"parse\">Parse current HTML</button>\n</p>\n\n<p>\n  <label>\n    <input type=\"checkbox\" name=\"controlElement\">\n    Show <code>contenteditable</code> control element\n  </label>\n</p>` }\n","if (!window.JST) window.JST = {}\n\nwindow.JST[\"trix/inspector/templates/document\"] = function() {\n  const details = this.document.getBlocks().map((block, index) => {\n    const { text } = block\n    const pieces = text.pieceList.toArray()\n\n    return `<details class=\"block\">\n      <summary class=\"title\">\n        Block ${block.id}, Index: ${index}\n      </summary>\n      <div class=\"attributes\">\n        Attributes: ${JSON.stringify(block.attributes)}\n      </div>\n\n      <div class=\"text\">\n        <div class=\"title\">\n          Text: ${text.id}, Pieces: ${pieces.length}, Length: ${text.getLength()}\n        </div>\n        <div class=\"pieces\">\n          ${piecePartials(pieces).join(\"\\n\")}\n        </div>\n      </div>\n    </details>`\n  })\n\n  return details.join(\"\\n\")\n}\n\nconst piecePartials = (pieces) =>\n  pieces.map((piece, index) =>`<div class=\"piece\">\n      <div class=\"title\">\n        Piece ${piece.id}, Index: ${index}\n      </div>\n      <div class=\"attributes\">\n        Attributes: ${JSON.stringify(piece.attributes)}\n      </div>\n      <div class=\"content\">\n        ${JSON.stringify(piece.toString())}\n      </div>\n    </div>`)\n","if (!window.JST) window.JST = {}\n\nwindow.JST[\"trix/inspector/templates/performance\"] = function() {\n  return Object.keys(this.data).map((name) => {\n      const data = this.data[name]\n      return dataMetrics(name, data, this.round)\n  }).join(\"\\n\")\n}\n\nconst dataMetrics = function(name, data, round) {\n  let item = `<strong>${name}</strong> (${data.calls})<br>`\n\n  if (data.calls > 0) {\n    item += `<div class=\"metrics\">\n        Mean: ${round(data.mean)}ms<br>\n        Max: ${round(data.max)}ms<br>\n        Last: ${round(data.last)}ms\n      </div>`\n\n    return item\n  }\n}\n","if (!window.JST) window.JST = {}\n\nwindow.JST[\"trix/inspector/templates/render\"] = () => `Syncs: ${this.syncCount}`\n","if (!window.JST) window.JST = {}\n\nwindow.JST[\"trix/inspector/templates/selection\"] = function() {\n  return `Location range: [${this.locationRange[0].index}:${this.locationRange[0].offset}, ${this.locationRange[1].index}:${this.locationRange[1].offset}]\n    ${charSpans(this.characters).join(\"\\n\")}`\n}\n\nconst charSpans = (characters) =>\n  Array.from(characters).map(\n    (char) => `<span class=\"character ${char.selected ? \"selected\" : undefined}\">${char.string}</span>`\n  )\n","if (!window.JST) window.JST = {}\n\nwindow.JST[\"trix/inspector/templates/undo\"] = () =>\n  `<h4>Undo stack</h4>\n    <ol class=\"undo-entries\">\n      ${entryList(this.undoEntries)}\n    </ol>\n    <h4>Redo stack</h4>\n    <ol class=\"redo-entries\">\n      ${entryList(this.redoEntries)}\n    </ol>`\n\nconst entryList = (entries) =>\n  entries.map((entry) =>\n    `<li>${entry.description} ${JSON.stringify({\n      selectedRange: entry.snapshot.selectedRange,\n      context: entry.context,\n    })}</li>`)\n","const KEY_EVENTS = \"keydown keypress input\".split(\" \")\nconst COMPOSITION_EVENTS = \"compositionstart compositionupdate compositionend textInput\".split(\" \")\nconst OBSERVER_OPTIONS = {\n  attributes: true,\n  childList: true,\n  characterData: true,\n  characterDataOldValue: true,\n  subtree: true,\n}\n\nexport default class ControlElement {\n  constructor(editorElement) {\n    this.didMutate = this.didMutate.bind(this)\n    this.editorElement = editorElement\n    this.install()\n  }\n\n  install() {\n    this.createElement()\n    this.logInputEvents()\n    this.logMutations()\n  }\n\n  uninstall() {\n    this.observer.disconnect()\n    this.element.parentNode.removeChild(this.element)\n  }\n\n  createElement() {\n    this.element = document.createElement(\"div\")\n    this.element.setAttribute(\"contenteditable\", \"\")\n    this.element.style.width = getComputedStyle(this.editorElement).width\n    this.element.style.minHeight = \"50px\"\n    this.element.style.border = \"1px solid green\"\n    this.editorElement.parentNode.insertBefore(this.element, this.editorElement.nextSibling)\n  }\n\n  logInputEvents() {\n    KEY_EVENTS.forEach((eventName) => {\n      this.element.addEventListener(eventName, (event) => console.log(`${event.type}: keyCode = ${event.keyCode}`))\n    })\n\n    COMPOSITION_EVENTS.forEach((eventName) => {\n      this.element.addEventListener(eventName, (event) =>\n        console.log(`${event.type}: data = ${JSON.stringify(event.data)}`)\n      )\n    })\n  }\n\n  logMutations() {\n    this.observer = new window.MutationObserver(this.didMutate)\n    this.observer.observe(this.element, OBSERVER_OPTIONS)\n  }\n\n  didMutate(mutations) {\n    console.log(`Mutations (${mutations.length}):`)\n    for (let index = 0; index < mutations.length; index++) {\n      const mutation = mutations[index]\n      console.log(` ${index + 1}. ${mutation.type}:`)\n      switch (mutation.type) {\n        case \"characterData\":\n          console.log(`  oldValue = ${JSON.stringify(mutation.oldValue)}, newValue = ${JSON.stringify(mutation.target.data)}`)\n          break\n        case \"childList\":\n          Array.from(mutation.addedNodes).forEach((node) => {\n            console.log(`  node added ${inspectNode(node)}`)\n          })\n\n          Array.from(mutation.removedNodes).forEach((node) => {\n            console.log(`  node removed ${inspectNode(node)}`)\n          })\n      }\n    }\n  }\n}\n\nconst inspectNode = function(node) {\n  if (node.data) {\n    return JSON.stringify(node.data)\n  } else {\n    return JSON.stringify(node.outerHTML)\n  }\n}\n","import { handleEvent } from \"trix/core/helpers\"\n\nexport default class View {\n  constructor(editorElement) {\n    this.editorElement = editorElement\n    this.editorController = this.editorElement.editorController\n    this.editor = this.editorElement.editor\n    this.compositionController = this.editorController.compositionController\n    this.composition = this.editorController.composition\n\n    this.element = document.createElement(\"details\")\n    if (this.getSetting(\"open\") === \"true\") {\n      this.element.open = true\n    }\n    this.element.classList.add(this.constructor.template)\n\n    this.titleElement = document.createElement(\"summary\")\n    this.element.appendChild(this.titleElement)\n\n    this.panelElement = document.createElement(\"div\")\n    this.panelElement.classList.add(\"panel\")\n    this.element.appendChild(this.panelElement)\n\n    this.element.addEventListener(\"toggle\", (event) => {\n      if (event.target === this.element) {\n        return this.didToggle()\n      }\n    })\n\n    if (this.events) {\n      this.installEventHandlers()\n    }\n  }\n\n  installEventHandlers() {\n    for (const eventName in this.events) {\n      const handler = this.events[eventName]\n      const callback = (event) => {\n        requestAnimationFrame(() => {\n          handler.call(this, event)\n        })\n      }\n\n      handleEvent(eventName, { onElement: this.editorElement, withCallback: callback })\n    }\n  }\n\n  didToggle(event) {\n    this.saveSetting(\"open\", this.isOpen())\n    return this.render()\n  }\n\n  isOpen() {\n    return this.element.hasAttribute(\"open\")\n  }\n\n  getTitle() {\n    return this.title || \"\"\n  }\n\n  render() {\n    this.renderTitle()\n    if (this.isOpen()) {\n      this.panelElement.innerHTML = window.JST[`trix/inspector/templates/${this.constructor.template}`].apply(this)\n    }\n  }\n\n  renderTitle() {\n    this.titleElement.innerHTML = this.getTitle()\n  }\n\n  getSetting(key) {\n    key = this.getSettingsKey(key)\n    return window.sessionStorage?.[key]\n  }\n\n  saveSetting(key, value) {\n    key = this.getSettingsKey(key)\n    if (window.sessionStorage) {\n      window.sessionStorage[key] = value\n    }\n  }\n\n  getSettingsKey(key) {\n    return `trix/inspector/${this.template}/${key}`\n  }\n\n  get title() {\n    return this.constructor.title\n  }\n\n  get template() {\n    return this.constructor.template\n  }\n\n  get events() {\n    return this.constructor.events\n  }\n}\n","import View from \"inspector/view\"\n\nimport { handleEvent } from \"trix/core/helpers\"\n\nclass DebugView extends View {\n  static title = \"Debug\"\n  static template = \"debug\"\n\n  constructor() {\n    super(...arguments)\n    this.didToggleViewCaching = this.didToggleViewCaching.bind(this)\n    this.didClickRenderButton = this.didClickRenderButton.bind(this)\n    this.didClickParseButton = this.didClickParseButton.bind(this)\n    this.didToggleControlElement = this.didToggleControlElement.bind(this)\n\n    handleEvent(\"change\", {\n      onElement: this.element,\n      matchingSelector: \"input[name=viewCaching]\",\n      withCallback: this.didToggleViewCaching,\n    })\n    handleEvent(\"click\", {\n      onElement: this.element,\n      matchingSelector: \"button[data-action=render]\",\n      withCallback: this.didClickRenderButton,\n    })\n    handleEvent(\"click\", {\n      onElement: this.element,\n      matchingSelector: \"button[data-action=parse]\",\n      withCallback: this.didClickParseButton,\n    })\n    handleEvent(\"change\", {\n      onElement: this.element,\n      matchingSelector: \"input[name=controlElement]\",\n      withCallback: this.didToggleControlElement,\n    })\n  }\n\n  didToggleViewCaching({ target }) {\n    if (target.checked) {\n      return this.compositionController.enableViewCaching()\n    } else {\n      return this.compositionController.disableViewCaching()\n    }\n  }\n\n  didClickRenderButton() {\n    return this.editorController.render()\n  }\n\n  didClickParseButton() {\n    return this.editorController.reparse()\n  }\n\n  didToggleControlElement({ target }) {\n    if (target.checked) {\n      this.control = new Trix.Inspector.ControlElement(this.editorElement)\n    } else {\n      this.control?.uninstall()\n      this.control = null\n    }\n  }\n}\n\nTrix.Inspector.registerView(DebugView)\n","import View from \"inspector/view\"\n\nclass DocumentView extends View {\n  static title = \"Document\"\n  static template = \"document\"\n  static events = {\n    \"trix-change\": function() {\n      return this.render()\n    },\n  }\n\n  render() {\n    this.document = this.editor.getDocument()\n    return super.render(...arguments)\n  }\n}\n\nTrix.Inspector.registerView(DocumentView)\n","import View from \"inspector/view\"\nconst now = window.performance?.now ? () => performance.now() : () => new Date().getTime()\n\nclass PerformanceView extends View {\n  static title = \"Performance\"\n  static template = \"performance\"\n\n  constructor() {\n    super(...arguments)\n    this.documentView = this.compositionController.documentView\n\n    this.data = {}\n    this.track(\"documentView.render\")\n    this.track(\"documentView.sync\")\n    this.track(\"documentView.garbageCollectCachedViews\")\n    this.track(\"composition.replaceHTML\")\n\n    this.render()\n  }\n\n  track(methodPath) {\n    this.data[methodPath] = { calls: 0, total: 0, mean: 0, max: 0, last: 0 }\n    const parts = methodPath.split(\".\")\n    const propertyNames = parts.slice(0, parts.length - 1)\n    const methodName = parts[parts.length - 1]\n\n    let object = this\n\n    propertyNames.forEach((propertyName) => {\n      object = object[propertyName]\n    })\n\n    const original = object[methodName]\n\n    object[methodName] = function() {\n      const started = now()\n      const result = original.apply(object, arguments)\n      const timing = now() - started\n      this.record(methodPath, timing)\n      return result\n    }.bind(this)\n  }\n\n  record(methodPath, timing) {\n    const data = this.data[methodPath]\n    data.calls += 1\n    data.total += timing\n    data.mean = data.total / data.calls\n    if (timing > data.max) {\n      data.max = timing\n    }\n    data.last = timing\n    return this.render()\n  }\n\n  round(ms) {\n    return Math.round(ms * 1000) / 1000\n  }\n}\n\nTrix.Inspector.registerView(PerformanceView)\n","import View from \"inspector/view\"\n\nexport default class RenderView extends View {\n  static title = \"Renders\"\n  static template = \"render\"\n  static events = {\n    \"trix-render\": function() {\n      this.renderCount++\n      return this.render()\n    },\n\n    \"trix-sync\": function() {\n      this.syncCount++\n      return this.render()\n    },\n  }\n\n  constructor() {\n    super(...arguments)\n    this.renderCount = 0\n    this.syncCount = 0\n  }\n\n  getTitle() {\n    return `${this.title} (${this.renderCount})`\n  }\n}\n\nTrix.Inspector.registerView(RenderView)\n","import View from \"inspector/view\"\nimport UTF16String from \"trix/core/utilities/utf16_string\"\n\nclass SelectionView extends View {\n  static title = \"Selection\"\n  static template = \"selection\"\n  static events = {\n    \"trix-selection-change\": function() {\n      return this.render()\n    },\n    \"trix-render\": function() {\n      return this.render()\n    },\n  }\n\n  render() {\n    this.document = this.editor.getDocument()\n    this.range = this.editor.getSelectedRange()\n    this.locationRange = this.composition.getLocationRange()\n    this.characters = this.getCharacters()\n    return super.render(...arguments)\n  }\n\n  getCharacters() {\n    const chars = []\n    const utf16string = UTF16String.box(this.document.toString())\n    const rangeIsExpanded = this.range[0] !== this.range[1]\n    let position = 0\n    while (position < utf16string.length) {\n      let string = utf16string.charAt(position).toString()\n      if (string === \"\\n\") {\n        string = \"⏎\"\n      }\n      const selected = rangeIsExpanded && position >= this.range[0] && position < this.range[1]\n      chars.push({ string, selected })\n      position++\n    }\n    return chars\n  }\n\n  getTitle() {\n    return `${this.title} (${this.range.join()})`\n  }\n}\n\nTrix.Inspector.registerView(SelectionView)\n","import View from \"inspector/view\"\n\nclass UndoView extends View {\n  static title = \"Undo\"\n  static template = \"undo\"\n  static events = {\n    \"trix-change\": function() {\n      return this.render()\n    },\n  }\n\n  render() {\n    this.undoEntries = this.editor.undoManager.undoEntries\n    this.redoEntries = this.editor.undoManager.redoEntries\n    return super.render(...arguments)\n  }\n}\n\nTrix.Inspector.registerView(UndoView)\n"],"names":["arraysAreEqual","a","b","length","index","value","arrayStartsWith","slice","spliceArray","array","result","args","splice","summarizeArrayChange","oldArray","newArray","added","removed","existingValues","Set","forEach","add","currentValues","has","push","attributes","default","tagName","parse","quote","nestable","heading1","terminal","breakOnReturn","group","code","text","plaintext","bulletList","bullet","listAttribute","test","element","parentNode","numberList","number","attachmentGallery","exclusive","toLowerCase","ZERO_WIDTH_SPACE","NON_BREAKING_SPACE","OBJECT_REPLACEMENT_CHARACTER","extend","properties","key","attachmentSelector","attachments","preview","presentation","caption","name","size","file","html","document","documentElement","match","matches","handleEvent","eventName","onElement","matchingSelector","withCallback","inPhase","preventDefault","times","selector","useCapture","handler","event","destroy","target","findClosestElementFromNode","call","removeEventListener","addEventListener","handleEventOnce","options","triggerEvent","bubbles","cancelable","createEvent","initEvent","dispatchEvent","elementMatchesSelector","nodeType","node","untilNode","Node","ELEMENT_NODE","closest","findInnerElement","firstElementChild","innerElementIsActive","activeElement","elementContainsNode","findNodeFromContainerAndOffset","container","offset","TEXT_NODE","firstChild","childNodes","item","findElementFromContainerAndOffset","findChildIndexOfNode","childIndex","previousSibling","removeNode","removeChild","walkTree","tree","onlyNodesOfType","usingFilter","expandEntityReferences","whatToShow","NodeFilter","SHOW_ELEMENT","SHOW_TEXT","SHOW_COMMENT","SHOW_ALL","createTreeWalker","makeElement","tag","createElement","editable","contenteditable","setAttribute","style","data","dataset","className","split","classList","textContent","concat","childNode","appendChild","blockTagNames","undefined","getBlockTagNames","blockAttributes","nodeIsBlockContainer","nodeIsBlockStartComment","nodeProbablyIsBlockContainer","includes","nodeIsBlockStart","strict","nodeIsCommentNode","COMMENT_NODE","nodeIsCursorTarget","nodeIsTextNode","trixCursorTarget","nodeIsAttachmentElement","nodeIsEmptyTextNode","RTL_PATTERN","getDirection","input","dir","dirName","form","supportsDirName","FormData","error","supportsDirSelector","string","get","char","trim","charAt","composesExistingText","navigator","userAgent","forcesObjectResizing","supportsInputEvents","InputEvent","property","prototype","attachment","attachmentCaption","attachmentCaptionEditor","attachmentMetadata","attachmentMetadataContainer","attachmentName","attachmentProgress","attachmentSize","attachmentToolbar","attachFiles","bold","bullets","byte","bytes","captionPlaceholder","indent","italic","link","numbers","outdent","redo","remove","strike","undo","unlink","url","urlPlaceholder","GB","KB","MB","PB","TB","sizes","lang","prefix","precision","formatter","base","exp","Math","floor","log","humanSize","pow","toFixed","withoutInsignificantZeros","replace","level2Enabled","getLevel","browser","pickFiles","callback","type","multiple","hidden","id","fileInputId","files","getElementById","body","click","inheritable","parser","window","getComputedStyle","fontWeight","fontStyle","href","groupTagName","getAttribute","frozen","backgroundColor","getDefaultHTML","interval","allAttributeNames","blockAttributeNames","textAttributeNames","listAttributeNames","getAllAttributeNames","getTextAttributeNames","getBlockAttributeNames","getBlockConfig","attributeName","config","Object","keys","getTextConfig","getListAttributeNames","installDefaultCSSForTagName","defaultCSS","styleElement","insertStyleElementForTagName","nonce","getCSPNonce","head","insertBefore","getMetaElement","querySelector","testTransferData","dataTransferIsPlainText","dataTransfer","getData","DOMParser","parseFromString","dataTransferIsWritable","setData","keyEventIsKeyboardCommand","platform","metaKey","ctrlKey","defer","fn","setTimeout","copyObject","object","objectsAreEqual","normalizeRange","range","Array","isArray","copyValue","rangeIsCollapsed","start","end","rangeValuesAreEqual","rangesAreEqual","leftRange","rightRange","leftStart","leftEnd","rightStart","rightEnd","left","right","BasicObject","proxyMethod","expression","toMethod","toProperty","optional","parseProxyMethodExpression","subject","apply","arguments","proxyMethodExpressionPattern","Error","Function","RegExp","SelectionChangeObserver","constructor","update","bind","run","selectionManagers","started","stop","registerSelectionManager","selectionManager","unregisterSelectionManager","filter","s","notifySelectionManagersOfSelectionChange","map","selectionDidChange","domRange","getDOMRange","domRangesAreEqual","reset","requestAnimationFrame","startContainer","startOffset","endContainer","endOffset","selectionChangeObserver","getDOMSelection","selection","getSelection","rangeCount","getRangeAt","domRangeIsPrivate","setDOMRange","removeAllRanges","addRange","nodeIsPrivate","getPrototypeOf","UTF16String","box","fromUCS2String","toString","ucs2String","ucs2decode","fromCodepoints","codepoints","ucs2encode","ucs2Length","offsetToUCS2Offset","max","offsetFromUCS2Offset","ucs2Offset","isEqualTo","toJSON","getCacheKey","hasArrayFrom","from","hasStringCodePointAt","codePointAt","hasStringFromCodePoint","String","fromCodePoint","output","counter","charCodeAt","extra","characters","fromCharCode","join","normalizeSpaces","normalizeNewlines","breakableWhitespacePattern","squishBreakableWhitespace","source","summarizeStringChange","oldString","newString","utf16StringDifferences","diffA","utf16StringDifference","utf16String","diffB","leftIndex","rightIndexA","rightIndexB","TrixInspector","HTMLElement","connectedCallback","editorElement","trixId","views","createViews","view","render","reposition","resizeHandler","disconnectedCallback","Trix","Inspector","View","sort","title","top","getBoundingClientRect","maxWidth","innerWidth","maxHeight","innerHeight","customElements","define","registerView","install","JST","compositionController","isViewCachingEnabled","details","getBlocks","block","pieces","pieceList","toArray","JSON","stringify","getLength","piecePartials","piece","dataMetrics","round","calls","mean","last","this","syncCount","locationRange","charSpans","selected","entryList","undoEntries","redoEntries","entries","entry","description","selectedRange","snapshot","context","KEY_EVENTS","COMPOSITION_EVENTS","OBSERVER_OPTIONS","childList","characterData","characterDataOldValue","subtree","ControlElement","didMutate","logInputEvents","logMutations","uninstall","observer","disconnect","width","minHeight","border","nextSibling","console","keyCode","MutationObserver","observe","mutations","mutation","oldValue","addedNodes","inspectNode","removedNodes","outerHTML","editorController","editor","composition","getSetting","open","template","titleElement","panelElement","didToggle","events","installEventHandlers","saveSetting","isOpen","hasAttribute","getTitle","renderTitle","innerHTML","getSettingsKey","sessionStorage","DebugView","didToggleViewCaching","didClickRenderButton","didClickParseButton","didToggleControlElement","checked","enableViewCaching","disableViewCaching","reparse","control","DocumentView","getDocument","now","performance","Date","getTime","PerformanceView","documentView","track","methodPath","total","parts","propertyNames","methodName","propertyName","original","timing","record","ms","RenderView","renderCount","SelectionView","getSelectedRange","getLocationRange","getCharacters","chars","utf16string","rangeIsExpanded","position","UndoView","undoManager"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1Ee,MAAM1E,IAAN,CAAW;AACxBjG,EAAAA,WAAW,CAACsF,aAAD,EAAgB;AACzB,IAAKA,IAAAA,CAAAA,aAAL,GAAqBA,aAArB,CAAA;AACA,IAAA,IAAA,CAAKsF,gBAAL,GAAwB,IAAKtF,CAAAA,aAAL,CAAmBsF,gBAA3C,CAAA;AACA,IAAA,IAAA,CAAKC,MAAL,GAAc,IAAKvF,CAAAA,aAAL,CAAmBuF,MAAjC,CAAA;AACA,IAAA,IAAA,CAAK9D,qBAAL,GAA6B,IAAK6D,CAAAA,gBAAL,CAAsB7D,qBAAnD,CAAA;AACA,IAAA,IAAA,CAAK+D,WAAL,GAAmB,IAAKF,CAAAA,gBAAL,CAAsBE,WAAzC,CAAA;AAEA,IAAA,IAAA,CAAKpd,OAAL,GAAesB,QAAQ,CAACqE,aAAT,CAAuB,SAAvB,CAAf,CAAA;;AACA,IAAA,IAAI,KAAK0X,UAAL,CAAgB,MAAhB,CAAA,KAA4B,MAAhC,EAAwC;AACtC,MAAA,IAAA,CAAKrd,OAAL,CAAasd,IAAb,GAAoB,IAApB,CAAA;AACD,KAAA;;AACD,IAAKtd,IAAAA,CAAAA,OAAL,CAAaoG,SAAb,CAAuBzH,GAAvB,CAA2B,IAAA,CAAK2T,WAAL,CAAiBiL,QAA5C,CAAA,CAAA;AAEA,IAAA,IAAA,CAAKC,YAAL,GAAoBlc,QAAQ,CAACqE,aAAT,CAAuB,SAAvB,CAApB,CAAA;AACA,IAAA,IAAA,CAAK3F,OAAL,CAAawG,WAAb,CAAyB,KAAKgX,YAA9B,CAAA,CAAA;AAEA,IAAA,IAAA,CAAKC,YAAL,GAAoBnc,QAAQ,CAACqE,aAAT,CAAuB,KAAvB,CAApB,CAAA;AACA,IAAA,IAAA,CAAK8X,YAAL,CAAkBrX,SAAlB,CAA4BzH,GAA5B,CAAgC,OAAhC,CAAA,CAAA;AACA,IAAA,IAAA,CAAKqB,OAAL,CAAawG,WAAb,CAAyB,KAAKiX,YAA9B,CAAA,CAAA;AAEA,IAAA,IAAA,CAAKzd,OAAL,CAAa2C,gBAAb,CAA8B,QAA9B,EAAyCN,KAAD,IAAW;AACjD,MAAA,IAAIA,KAAK,CAACE,MAAN,KAAiB,IAAA,CAAKvC,OAA1B,EAAmC;AACjC,QAAO,OAAA,IAAA,CAAK0d,SAAL,EAAP,CAAA;AACD,OAAA;AACF,KAJD,CAAA,CAAA;;AAMA,IAAI,IAAA,IAAA,CAAKC,MAAT,EAAiB;AACf,MAAA,IAAA,CAAKC,oBAAL,EAAA,CAAA;AACD,KAAA;AACF,GAAA;;AAEDA,EAAAA,oBAAoB,GAAG;AACrB,IAAA,KAAK,MAAMjc,SAAX,IAAwB,IAAA,CAAKgc,MAA7B,EAAqC;AACnC,MAAA,MAAMvb,OAAO,GAAG,IAAA,CAAKub,MAAL,CAAYhc,SAAZ,CAAhB,CAAA;;AACA,MAAMyK,MAAAA,QAAQ,GAAI/J,KAAD,IAAW;AAC1BoR,QAAAA,qBAAqB,CAAC,MAAM;AAC1BrR,UAAAA,OAAO,CAACK,IAAR,CAAa,IAAb,EAAmBJ,KAAnB,CAAA,CAAA;AACD,SAFoB,CAArB,CAAA;AAGD,OAJD,CAAA;;AAMAX,MAAAA,WAAW,CAACC,SAAD,EAAY;AAAEC,QAAAA,SAAS,EAAE,IAAA,CAAKgW,aAAlB;AAAiC9V,QAAAA,YAAY,EAAEsK,QAAAA;AAA/C,OAAZ,CAAX,CAAA;AACD,KAAA;AACF,GAAA;;AAEDsR,EAAAA,SAAS,CAACrb,KAAD,EAAQ;AACf,IAAA,IAAA,CAAKwb,WAAL,CAAiB,MAAjB,EAAyB,IAAA,CAAKC,MAAL,EAAzB,CAAA,CAAA;AACA,IAAO,OAAA,IAAA,CAAK7F,MAAL,EAAP,CAAA;AACD,GAAA;;AAED6F,EAAAA,MAAM,GAAG;AACP,IAAA,OAAO,KAAK9d,OAAL,CAAa+d,YAAb,CAA0B,MAA1B,CAAP,CAAA;AACD,GAAA;;AAEDC,EAAAA,QAAQ,GAAG;AACT,IAAO,OAAA,IAAA,CAAKvF,KAAL,IAAc,EAArB,CAAA;AACD,GAAA;;AAEDR,EAAAA,MAAM,GAAG;AACP,IAAA,IAAA,CAAKgG,WAAL,EAAA,CAAA;;AACA,IAAI,IAAA,IAAA,CAAKH,MAAL,EAAJ,EAAmB;AACjB,MAAA,IAAA,CAAKL,YAAL,CAAkBS,SAAlB,GAA8BlR,MAAM,CAACoM,GAAP,CAAA,2BAAA,CAAA,MAAA,CAAuC,IAAK9G,CAAAA,WAAL,CAAiBiL,QAAxD,CAAA,CAAA,CAAoExL,KAApE,CAA0E,IAA1E,CAA9B,CAAA;AACD,KAAA;AACF,GAAA;;AAEDkM,EAAAA,WAAW,GAAG;AACZ,IAAA,IAAA,CAAKT,YAAL,CAAkBU,SAAlB,GAA8B,IAAA,CAAKF,QAAL,EAA9B,CAAA;AACD,GAAA;;AAEDX,EAAAA,UAAU,CAACzc,GAAD,EAAM;AAAA,IAAA,IAAA,qBAAA,CAAA;;AACdA,IAAAA,GAAG,GAAG,IAAA,CAAKud,cAAL,CAAoBvd,GAApB,CAAN,CAAA;AACA,IAAA,OAAA,CAAA,qBAAA,GAAOoM,MAAM,CAACoR,cAAd,MAAO,IAAA,IAAA,qBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,qBAAA,CAAwBxd,GAAxB,CAAP,CAAA;AACD,GAAA;;AAEDid,EAAAA,WAAW,CAACjd,GAAD,EAAMjD,KAAN,EAAa;AACtBiD,IAAAA,GAAG,GAAG,IAAA,CAAKud,cAAL,CAAoBvd,GAApB,CAAN,CAAA;;AACA,IAAIoM,IAAAA,MAAM,CAACoR,cAAX,EAA2B;AACzBpR,MAAAA,MAAM,CAACoR,cAAP,CAAsBxd,GAAtB,IAA6BjD,KAA7B,CAAA;AACD,KAAA;AACF,GAAA;;AAEDwgB,EAAAA,cAAc,CAACvd,GAAD,EAAM;AAClB,IAAyB,OAAA,iBAAA,CAAA,MAAA,CAAA,IAAA,CAAK2c,QAA9B,EAAA,GAAA,CAAA,CAAA,MAAA,CAA0C3c,GAA1C,CAAA,CAAA;AACD,GAAA;;AAEQ,EAAA,IAAL6X,KAAK,GAAG;AACV,IAAO,OAAA,IAAA,CAAKnG,WAAL,CAAiBmG,KAAxB,CAAA;AACD,GAAA;;AAEW,EAAA,IAAR8E,QAAQ,GAAG;AACb,IAAO,OAAA,IAAA,CAAKjL,WAAL,CAAiBiL,QAAxB,CAAA;AACD,GAAA;;AAES,EAAA,IAANI,MAAM,GAAG;AACX,IAAO,OAAA,IAAA,CAAKrL,WAAL,CAAiBqL,MAAxB,CAAA;AACD,GAAA;;AA/FuB;;ACE1B,MAAMU,SAAN,SAAwB9F,IAAxB,CAA6B;AAI3BjG,EAAAA,WAAW,GAAG;AACZ,IAAA,KAAA,CAAM,GAAGN,SAAT,CAAA,CAAA;AACA,IAAKsM,IAAAA,CAAAA,oBAAL,GAA4B,IAAKA,CAAAA,oBAAL,CAA0B9L,IAA1B,CAA+B,IAA/B,CAA5B,CAAA;AACA,IAAK+L,IAAAA,CAAAA,oBAAL,GAA4B,IAAKA,CAAAA,oBAAL,CAA0B/L,IAA1B,CAA+B,IAA/B,CAA5B,CAAA;AACA,IAAKgM,IAAAA,CAAAA,mBAAL,GAA2B,IAAKA,CAAAA,mBAAL,CAAyBhM,IAAzB,CAA8B,IAA9B,CAA3B,CAAA;AACA,IAAKiM,IAAAA,CAAAA,uBAAL,GAA+B,IAAKA,CAAAA,uBAAL,CAA6BjM,IAA7B,CAAkC,IAAlC,CAA/B,CAAA;AAEA9Q,IAAAA,WAAW,CAAC,QAAD,EAAW;AACpBE,MAAAA,SAAS,EAAE,IAAA,CAAK5B,OADI;AAEpB6B,MAAAA,gBAAgB,EAAE,yBAFE;AAGpBC,MAAAA,YAAY,EAAE,IAAKwc,CAAAA,oBAAAA;AAHC,KAAX,CAAX,CAAA;AAKA5c,IAAAA,WAAW,CAAC,OAAD,EAAU;AACnBE,MAAAA,SAAS,EAAE,IAAA,CAAK5B,OADG;AAEnB6B,MAAAA,gBAAgB,EAAE,4BAFC;AAGnBC,MAAAA,YAAY,EAAE,IAAKyc,CAAAA,oBAAAA;AAHA,KAAV,CAAX,CAAA;AAKA7c,IAAAA,WAAW,CAAC,OAAD,EAAU;AACnBE,MAAAA,SAAS,EAAE,IAAA,CAAK5B,OADG;AAEnB6B,MAAAA,gBAAgB,EAAE,2BAFC;AAGnBC,MAAAA,YAAY,EAAE,IAAK0c,CAAAA,mBAAAA;AAHA,KAAV,CAAX,CAAA;AAKA9c,IAAAA,WAAW,CAAC,QAAD,EAAW;AACpBE,MAAAA,SAAS,EAAE,IAAA,CAAK5B,OADI;AAEpB6B,MAAAA,gBAAgB,EAAE,4BAFE;AAGpBC,MAAAA,YAAY,EAAE,IAAK2c,CAAAA,uBAAAA;AAHC,KAAX,CAAX,CAAA;AAKD,GAAA;;AAEDH,EAAAA,oBAAoB,CAAa,IAAA,EAAA;AAAA,IAAZ,IAAA;AAAE/b,MAAAA,MAAAA;AAAF,KAAY,GAAA,IAAA,CAAA;;AAC/B,IAAIA,IAAAA,MAAM,CAACmc,OAAX,EAAoB;AAClB,MAAA,OAAO,IAAKrF,CAAAA,qBAAL,CAA2BsF,iBAA3B,EAAP,CAAA;AACD,KAFD,MAEO;AACL,MAAA,OAAO,IAAKtF,CAAAA,qBAAL,CAA2BuF,kBAA3B,EAAP,CAAA;AACD,KAAA;AACF,GAAA;;AAEDL,EAAAA,oBAAoB,GAAG;AACrB,IAAA,OAAO,IAAKrB,CAAAA,gBAAL,CAAsBjF,MAAtB,EAAP,CAAA;AACD,GAAA;;AAEDuG,EAAAA,mBAAmB,GAAG;AACpB,IAAA,OAAO,IAAKtB,CAAAA,gBAAL,CAAsB2B,OAAtB,EAAP,CAAA;AACD,GAAA;;AAEDJ,EAAAA,uBAAuB,CAAa,KAAA,EAAA;AAAA,IAAZ,IAAA;AAAElc,MAAAA,MAAAA;AAAF,KAAY,GAAA,KAAA,CAAA;;AAClC,IAAIA,IAAAA,MAAM,CAACmc,OAAX,EAAoB;AAClB,MAAKI,IAAAA,CAAAA,OAAL,GAAe,IAAIzG,IAAI,CAACC,SAAL,CAAesD,cAAnB,CAAkC,IAAKhE,CAAAA,aAAvC,CAAf,CAAA;AACD,KAFD,MAEO;AAAA,MAAA,IAAA,aAAA,CAAA;;AACL,MAAKkH,CAAAA,aAAAA,GAAAA,IAAAA,CAAAA,OAAL,gEAAc9C,SAAd,EAAA,CAAA;AACA,MAAK8C,IAAAA,CAAAA,OAAL,GAAe,IAAf,CAAA;AACD,KAAA;AACF,GAAA;;AAxD0B,CAAA;;AAAvBT,eAAAA,CAAAA,oBACW;;AADXA,eAAAA,CAAAA,uBAEc;;AAyDpBhG,IAAI,CAACC,SAAL,CAAeY,YAAf,CAA4BmF,SAA5B,CAAA;;AC7DA,MAAMU,YAAN,SAA2BxG,IAA3B,CAAgC;AAS9BN,EAAAA,MAAM,GAAG;AACP,IAAA,IAAA,CAAK3W,QAAL,GAAgB,IAAA,CAAK6b,MAAL,CAAY6B,WAAZ,EAAhB,CAAA;AACA,IAAA,OAAO,KAAM/G,CAAAA,MAAN,CAAa,GAAGjG,SAAhB,CAAP,CAAA;AACD,GAAA;;AAZ6B,CAAA;;AAA1B+M,eAAAA,CAAAA,uBACW;;AADXA,eAAAA,CAAAA,0BAEc;;AAFdA,eAAAA,CAAAA,cAGY,QAAA,EAAA;AACd,EAAA,aAAA,EAAe,YAAW;AACxB,IAAO,OAAA,IAAA,CAAK9G,MAAL,EAAP,CAAA;AACD,GAAA;AAHa;;AAYlBI,IAAI,CAACC,SAAL,CAAeY,YAAf,CAA4B6F,YAA5B,CAAA;;;AChBA,MAAME,GAAG,GAAG,CAAAjS,mBAAAA,GAAAA,MAAM,CAACkS,WAAP,MAAA,IAAA,IAAA,mBAAA,KAAA,KAAA,CAAA,IAAA,mBAAA,CAAoBD,GAApB,GAA0B,MAAMC,WAAW,CAACD,GAAZ,EAAhC,GAAoD,MAAM,IAAIE,IAAJ,EAAA,CAAWC,OAAX,EAAtE,CAAA;;AAEA,MAAMC,eAAN,SAA8B9G,IAA9B,CAAmC;AAIjCjG,EAAAA,WAAW,GAAG;AACZ,IAAA,KAAA,CAAM,GAAGN,SAAT,CAAA,CAAA;AACA,IAAA,IAAA,CAAKsN,YAAL,GAAoB,IAAKjG,CAAAA,qBAAL,CAA2BiG,YAA/C,CAAA;AAEA,IAAKtZ,IAAAA,CAAAA,IAAL,GAAY,EAAZ,CAAA;AACA,IAAKuZ,IAAAA,CAAAA,KAAL,CAAW,qBAAX,CAAA,CAAA;AACA,IAAKA,IAAAA,CAAAA,KAAL,CAAW,mBAAX,CAAA,CAAA;AACA,IAAKA,IAAAA,CAAAA,KAAL,CAAW,wCAAX,CAAA,CAAA;AACA,IAAKA,IAAAA,CAAAA,KAAL,CAAW,yBAAX,CAAA,CAAA;AAEA,IAAA,IAAA,CAAKtH,MAAL,EAAA,CAAA;AACD,GAAA;;AAEDsH,EAAAA,KAAK,CAACC,UAAD,EAAa;AAChB,IAAKxZ,IAAAA,CAAAA,IAAL,CAAUwZ,UAAV,CAAwB,GAAA;AAAEpF,MAAAA,KAAK,EAAE,CAAT;AAAYqF,MAAAA,KAAK,EAAE,CAAnB;AAAsBpF,MAAAA,IAAI,EAAE,CAA5B;AAA+BhF,MAAAA,GAAG,EAAE,CAApC;AAAuCiF,MAAAA,IAAI,EAAE,CAAA;AAA7C,KAAxB,CAAA;AACA,IAAA,MAAMoF,KAAK,GAAGF,UAAU,CAACrZ,KAAX,CAAiB,GAAjB,CAAd,CAAA;AACA,IAAA,MAAMwZ,aAAa,GAAGD,KAAK,CAAC7hB,KAAN,CAAY,CAAZ,EAAe6hB,KAAK,CAACjiB,MAAN,GAAe,CAA9B,CAAtB,CAAA;AACA,IAAMmiB,MAAAA,UAAU,GAAGF,KAAK,CAACA,KAAK,CAACjiB,MAAN,GAAe,CAAhB,CAAxB,CAAA;AAEA,IAAI0S,IAAAA,MAAM,GAAG,IAAb,CAAA;AAEAwP,IAAAA,aAAa,CAACjhB,OAAd,CAAuBmhB,YAAD,IAAkB;AACtC1P,MAAAA,MAAM,GAAGA,MAAM,CAAC0P,YAAD,CAAf,CAAA;AACD,KAFD,CAAA,CAAA;AAIA,IAAA,MAAMC,QAAQ,GAAG3P,MAAM,CAACyP,UAAD,CAAvB,CAAA;;AAEAzP,IAAAA,MAAM,CAACyP,UAAD,CAAN,GAAqB,YAAW;AAC9B,MAAMjN,MAAAA,OAAO,GAAGsM,GAAG,EAAnB,CAAA;AACA,MAAMjhB,MAAAA,MAAM,GAAG8hB,QAAQ,CAAC/N,KAAT,CAAe5B,MAAf,EAAuB6B,SAAvB,CAAf,CAAA;AACA,MAAA,MAAM+N,MAAM,GAAGd,GAAG,EAAA,GAAKtM,OAAvB,CAAA;AACA,MAAA,IAAA,CAAKqN,MAAL,CAAYR,UAAZ,EAAwBO,MAAxB,CAAA,CAAA;AACA,MAAA,OAAO/hB,MAAP,CAAA;AACD,KANoB,CAMnBwU,IANmB,CAMd,IANc,CAArB,CAAA;AAOD,GAAA;;AAEDwN,EAAAA,MAAM,CAACR,UAAD,EAAaO,MAAb,EAAqB;AACzB,IAAA,MAAM/Z,IAAI,GAAG,IAAA,CAAKA,IAAL,CAAUwZ,UAAV,CAAb,CAAA;AACAxZ,IAAAA,IAAI,CAACoU,KAAL,IAAc,CAAd,CAAA;AACApU,IAAAA,IAAI,CAACyZ,KAAL,IAAcM,MAAd,CAAA;AACA/Z,IAAAA,IAAI,CAACqU,IAAL,GAAYrU,IAAI,CAACyZ,KAAL,GAAazZ,IAAI,CAACoU,KAA9B,CAAA;;AACA,IAAA,IAAI2F,MAAM,GAAG/Z,IAAI,CAACqP,GAAlB,EAAuB;AACrBrP,MAAAA,IAAI,CAACqP,GAAL,GAAW0K,MAAX,CAAA;AACD,KAAA;;AACD/Z,IAAAA,IAAI,CAACsU,IAAL,GAAYyF,MAAZ,CAAA;AACA,IAAO,OAAA,IAAA,CAAK9H,MAAL,EAAP,CAAA;AACD,GAAA;;AAEDkC,EAAAA,KAAK,CAAC8F,EAAD,EAAK;AACR,IAAOzU,OAAAA,IAAI,CAAC2O,KAAL,CAAW8F,EAAE,GAAG,IAAhB,IAAwB,IAA/B,CAAA;AACD,GAAA;;AAtDgC,CAAA;;AAA7BZ,eAAAA,CAAAA,0BACW;;AADXA,eAAAA,CAAAA,6BAEc;;AAuDpBhH,IAAI,CAACC,SAAL,CAAeY,YAAf,CAA4BmG,eAA5B,CAAA;;AC1De,MAAMa,UAAN,SAAyB3H,IAAzB,CAA8B;AAe3CjG,EAAAA,WAAW,GAAG;AACZ,IAAA,KAAA,CAAM,GAAGN,SAAT,CAAA,CAAA;AACA,IAAKmO,IAAAA,CAAAA,WAAL,GAAmB,CAAnB,CAAA;AACA,IAAK3F,IAAAA,CAAAA,SAAL,GAAiB,CAAjB,CAAA;AACD,GAAA;;AAEDwD,EAAAA,QAAQ,GAAG;AACT,IAAA,OAAA,EAAA,CAAA,MAAA,CAAU,IAAKvF,CAAAA,KAAf,EAAyB,IAAA,CAAA,CAAA,MAAA,CAAA,IAAA,CAAK0H,WAA9B,EAAA,GAAA,CAAA,CAAA;AACD,GAAA;;AAvB0C,CAAA;;AAAxBD,eAAAA,CAAAA,qBACJ;;AADIA,eAAAA,CAAAA,wBAED;;AAFCA,eAAAA,CAAAA,YAGH,QAAA,EAAA;AACd,EAAA,aAAA,EAAe,YAAW;AACxB,IAAA,IAAA,CAAKC,WAAL,EAAA,CAAA;AACA,IAAO,OAAA,IAAA,CAAKlI,MAAL,EAAP,CAAA;AACD,GAJa;AAMd,EAAA,WAAA,EAAa,YAAW;AACtB,IAAA,IAAA,CAAKuC,SAAL,EAAA,CAAA;AACA,IAAO,OAAA,IAAA,CAAKvC,MAAL,EAAP,CAAA;AACD,GAAA;AATa;;AAuBlBI,IAAI,CAACC,SAAL,CAAeY,YAAf,CAA4BgH,UAA5B,CAAA;;ACzBA,MAAME,aAAN,SAA4B7H,IAA5B,CAAiC;AAY/BN,EAAAA,MAAM,GAAG;AACP,IAAA,IAAA,CAAK3W,QAAL,GAAgB,IAAA,CAAK6b,MAAL,CAAY6B,WAAZ,EAAhB,CAAA;AACA,IAAA,IAAA,CAAK1O,KAAL,GAAa,IAAA,CAAK6M,MAAL,CAAYkD,gBAAZ,EAAb,CAAA;AACA,IAAA,IAAA,CAAK5F,aAAL,GAAqB,IAAA,CAAK2C,WAAL,CAAiBkD,gBAAjB,EAArB,CAAA;AACA,IAAA,IAAA,CAAKhK,UAAL,GAAkB,IAAKiK,CAAAA,aAAL,EAAlB,CAAA;AACA,IAAA,OAAO,KAAMtI,CAAAA,MAAN,CAAa,GAAGjG,SAAhB,CAAP,CAAA;AACD,GAAA;;AAEDuO,EAAAA,aAAa,GAAG;AACd,IAAMC,MAAAA,KAAK,GAAG,EAAd,CAAA;AACA,IAAMC,MAAAA,WAAW,GAAG/L,WAAW,CAACC,GAAZ,CAAgB,IAAA,CAAKrT,QAAL,CAAcuT,QAAd,EAAhB,CAApB,CAAA;AACA,IAAM6L,MAAAA,eAAe,GAAG,IAAA,CAAKpQ,KAAL,CAAW,CAAX,CAAA,KAAkB,IAAKA,CAAAA,KAAL,CAAW,CAAX,CAA1C,CAAA;AACA,IAAIqQ,IAAAA,QAAQ,GAAG,CAAf,CAAA;;AACA,IAAA,OAAOA,QAAQ,GAAGF,WAAW,CAAChjB,MAA9B,EAAsC;AACpC,MAAI2K,IAAAA,MAAM,GAAGqY,WAAW,CAACjY,MAAZ,CAAmBmY,QAAnB,CAA6B9L,CAAAA,QAA7B,EAAb,CAAA;;AACA,MAAIzM,IAAAA,MAAM,KAAK,IAAf,EAAqB;AACnBA,QAAAA,MAAM,GAAG,GAAT,CAAA;AACD,OAAA;;AACD,MAAA,MAAMuS,QAAQ,GAAG+F,eAAe,IAAIC,QAAQ,IAAI,KAAKrQ,KAAL,CAAW,CAAX,CAA/B,IAAgDqQ,QAAQ,GAAG,KAAKrQ,KAAL,CAAW,CAAX,CAA5E,CAAA;AACAkQ,MAAAA,KAAK,CAAC1hB,IAAN,CAAW;AAAEsJ,QAAAA,MAAF;AAAUuS,QAAAA,QAAAA;AAAV,OAAX,CAAA,CAAA;AACAgG,MAAAA,QAAQ,EAAA,CAAA;AACT,KAAA;;AACD,IAAA,OAAOH,KAAP,CAAA;AACD,GAAA;;AAEDxC,EAAAA,QAAQ,GAAG;AACT,IAAA,OAAA,EAAA,CAAA,MAAA,CAAU,KAAKvF,KAAf,EAAA,IAAA,CAAA,CAAA,MAAA,CAAyB,KAAKnI,KAAL,CAAWkG,IAAX,EAAzB,EAAA,GAAA,CAAA,CAAA;AACD,GAAA;;AAvC8B,CAAA;;AAA3B4J,eAAAA,CAAAA,wBACW;;AADXA,eAAAA,CAAAA,2BAEc;;AAFdA,eAAAA,CAAAA,eAGY,QAAA,EAAA;AACd,EAAA,uBAAA,EAAyB,YAAW;AAClC,IAAO,OAAA,IAAA,CAAKnI,MAAL,EAAP,CAAA;AACD,GAHa;AAId,EAAA,aAAA,EAAe,YAAW;AACxB,IAAO,OAAA,IAAA,CAAKA,MAAL,EAAP,CAAA;AACD,GAAA;AANa;;AAuClBI,IAAI,CAACC,SAAL,CAAeY,YAAf,CAA4BkH,aAA5B,CAAA;;AC3CA,MAAMQ,QAAN,SAAuBrI,IAAvB,CAA4B;AAS1BN,EAAAA,MAAM,GAAG;AACP,IAAA,IAAA,CAAK4C,WAAL,GAAmB,IAAA,CAAKsC,MAAL,CAAY0D,WAAZ,CAAwBhG,WAA3C,CAAA;AACA,IAAA,IAAA,CAAKC,WAAL,GAAmB,IAAA,CAAKqC,MAAL,CAAY0D,WAAZ,CAAwB/F,WAA3C,CAAA;AACA,IAAA,OAAO,KAAM7C,CAAAA,MAAN,CAAa,GAAGjG,SAAhB,CAAP,CAAA;AACD,GAAA;;AAbyB,CAAA;;AAAtB4O,eAAAA,CAAAA,mBACW;;AADXA,eAAAA,CAAAA,sBAEc;;AAFdA,eAAAA,CAAAA,UAGY,QAAA,EAAA;AACd,EAAA,aAAA,EAAe,YAAW;AACxB,IAAO,OAAA,IAAA,CAAK3I,MAAL,EAAP,CAAA;AACD,GAAA;AAHa;;AAalBI,IAAI,CAACC,SAAL,CAAeY,YAAf,CAA4B0H,QAA5B,CAAA"}